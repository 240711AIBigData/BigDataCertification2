# CHAPTER06 연습문제

SECTION01 단일 표본 검정
---
### ✏️ 문제
> 한 커피 제조회사에서는 새로 출시한 커피의 카페인 함량이 95mg 미만이라고 주장했다.<br>
> 그 주장이 사실인가를 알아보기 위해 25개의 커피 샘플을 무작위(랜덤)로 추출했다.<br>
> 커피 제조회사의 주장이 타당한지를 유의수준 5% 에서 검정하시오.

- 귀무가설(H₀) : μ >= 95mg (제조사의 주장이 틀렸다고 보는 관점)

  - 귀무가설은 대립가설을 반박할 기본적인 기준으로 설정(대립가설을 부정하는 형태)

- 대립가설(H₁) : μ < 95mg (제조사의 주장을 검증하려는 관점)


<br>

> 입력값
```python
  1. 표본 데이터의 평균
  
  2. Shapiro-Wilk 검정의 p-value
  
  3. 단일 표본 t-검정의 검정 통계량
  
  4. 단일 표본 t-검정의 p-value
  
  5. 유의수준 0.05 하에서 귀무가설을 기준으로 검정 결과를 채택/기각 중 선택
```

<br>

> 데이터
```python
  import pandas as pd
  df = pd.DataFrame({
      'Caffeine(mg)' : [
          94.2, 93.7, 95.5, 93.9, 94.0, 95.2, 94.7, 93.5, 92.8, 94.4,
          93.8, 94.6, 93.3, 95.1, 94.3, 94.9, 93.9, 94.8, 95.0, 94.2,
          93.7, 94.4, 95.1, 94.0, 93.6
      ]
  })
```

<br>

> 힌트
```python
  ttest_1samp()
```

<br>

#### 풀이
> 코드
```python
  # 1. 표본 평균
  print(df.mean())
  
  # 2. 정규성 검정
  from scipy import stats
  print(stats.shapiro(df['Caffeine(mg)']))
  
  # 3~5. 단일 표본 t-검정
  print(stats.ttest_1samp(df['Caffeine(mg)'], 95, alternative='less'))
  
  print(' ')
  
  statistic, pvalue = stats.ttest_1samp(df['Caffeine(mg)'], 95, alternative='less')
  print('{:.10f}'.format(pvalue))
```
- 지수 표기법을 일반 소수점 형태로 변경하기 위해 '{:.10f}'.format(pvalue) 사용

  - 소수 10번째 자리까지로 변경

> 결과
```python
  Caffeine(mg)    94.264
  dtype: float64
  ShapiroResult(statistic=0.9826578166170536, pvalue=0.9322031137746971)
  TtestResult(statistic=-5.501737036221897, pvalue=5.8686553916715e-06, df=24)
   
  0.0000058687
```
- Shapiro-Wilk 검정의 p-value 0.9826578166170536 > 0.05 : 데이터가 정규 분포를 따른다

- 단일 표본 t-검정의 검정 통게량 : -5.501737036221897, p-value : 0.0000058687(5.8686553916715e-06)

- 대립가설을 기준으로 df['Caffeine(mg)'] < 95 : alternative='less'

- p-value 0.00 < 유의수준 0.05 : 귀무가설 기각

<br>

> 정답
```python
  1. 표본 데이터의 평균 : 94.264
  
  2. Shapiro-Wilk 검정의 p-value : 0.9322031137746971
  
  3. 단일 표본 t-검정의 검정 통계량 : 5.501737036221897
  
  4. 단일 표본 t-검정의 p-value : 0.0000058687 (5.8686553916715e-06)
  
  5. 유의수준 0.05 하에서 귀무가설을 기준으로 검정 결과를 채택/기각 중 선택 : 기각 (p-value 0.00 < 유의수준 0.05)
```

<br>

---

<br>

SECTION02 독립 표본 검정
---
### ✏️ 문제
> 스마트폰 배터리의 충전 시간을 줄이기 위한 새로운 충전기를 개발했다. 개발된 충전기의 효과를 검정하기 위해<br>
> 스마트폰 사용자 집단을 두 그룹으로 나눠 한 그룹에는 새로운 충전기를 제공하고, 다른 그룹에는 기존 충전기를 제공했다.<br>
> 그 후 두 그룹의 평균 충전 완료 시간을 비교했다. 두 그룹 모두 충전 시간은 정규 분포를 따르며 분산은 같다고 가정한다.<br>
> 새로운 충전기가 더 빠르다고 할 수 있는지를 유의수준 5% 하에서 검정하시오.<br>
> (μ1 : 새로운 충전기 집단의 모평균, μ2 : 기존 충전기 집단의 모평균)

- 귀무가설(H₀) : μ1 >= μ2 (새로운 충전기가 더 빠르지 않다고 보는 관점)

  - 귀무가설은 대립가설을 반박할 기본적인 기준으로 설정(대립가설을 부정하는 형태)

- 대립가설(H₁) : μ1 < μ2 (새로운 충전기가 더 빠름을 검증하려는 관점)


<br>

> 입력값
```python
  1. 위 가설을 검정하기 위한 검정 통계량
  
  2. 위의 통계량에 대한 p-value
  
  3. 유의수준 0.05 하에서 귀무가설을 기준으로 검정의 결과를 채택/기각 중 선택
```

<br>

> 데이터
```python
  import pandas as pd
  df = pd.DataFrame({
      '충전기' : ['New'] * 10 + ['Old'] * 10,
      '충전시간' : [
          1.5, 1.6, 1.4, 1.7, 1.5, 1.6, 1.7, 1.4, 1.6, 1.5,
          1.7, 1.8, 1.7, 1.9, 1.8, 1.7, 1.8, 1.9, 1.7, 1.6
      ]
  })
  print(df.head(2))
```

> 결과
```python
     충전기  충전시간
  0  New   1.5
  1  New   1.6
```

<br>

> 힌트
```python
  ttest_ind()
```

<br>

#### 풀이
> 코드
```python
  # 1~3. 독립 표본 t-검정
  new_cond = df['충전기'] == 'New'
  old_cond = df['충전기'] == 'Old'
  print(df[new_cond]['충전시간'].head(2))
  print(df[old_cond]['충전시간'].head(2))
  
  print(' ')
  
  from scipy import stats
  print(stats.ttest_ind(df[new_cond]['충전시간'], df[old_cond]['충전시간'], alternative='less', equal_var=True))
```
- 스마트폰 충전기의 효과를 비교하는 데 있어서 두 독립된 집단 간의 평균을 비교하는데 초점

- 독립성 검정은 ttest_ind() 사용

  - 분산이 같다고 가정했기 때문에 equal_var=True 설정

> 결과
```python
  0    1.5
  1    1.6
  Name: 충전시간, dtype: float64
  10    1.7
  11    1.8
  Name: 충전시간, dtype: float64
   
  TtestResult(statistic=-4.582575694955849, pvalue=0.00011546547787696304, df=18.0)
```
- t-test 결과

  - p-value 0.00 < 유의수준 0.05 : 귀무가설 기각

<br>

> 정답
```python
  1. 위 가설을 검정하기 위한 검정 통계량 : -4.582575694955849
  
  2. 위의 통계량에 대한 p-value : 0.00011546547787696304
  
  3. 유의수준 0.05 하에서 귀무가설을 기준으로 검정의 결과를 채택/기각 중 선택 : 기각 (p-value 0.00 < 유의수준 0.05)
```

<br>

---

<br>

SECTION03 대응 표본 검정
---



<br>

---

<br>

SECTION04 일원 분산 검정
---



<br>

---

<br>

SECTION05 이원 분산 검정
---



<br>

---

<br>

SECTION06 적합도 검정
---



<br>

---

<br>

SECTION07 독립성 검정
---



<br>

---

<br>

SECTION08 다중 선형 회귀
---



<br>

---

<br>

SECTION09 로지스틱 회귀
---



<br>
















