# CHAPTER03 카이제곱 검정
- 카이제곱 검정(Chi-square test)

  - 통계학에서 범주형 데이터의 관찰된 빈도와 기대된 빈도를 비교
 
  - 두 변수 간의 독립성이나 분포의 적합성 검정 방법
 
    - 적합도 검정
   
    - 독립성 검정
   
    - 동질성 검정
   
<br>

SERCTION01 적합도 검정(Goodness of fit test)
---
- 1개의 범주형 변수가 특정 분포를 잘 따르고 있는지 검정하는 데 사용

  - **귀무가설** : 특정 분포를 따른다 (특정 분포 확률을 따른다)
 
  - **대립가설** : 특정 분포를 따르지 않는다 (특정 분포 확률을 따르지 않는다)

<br>

### 01. 카이제곱 적합도 검정
```python
  scipy.stats.chisquared(observed, expected, ddof, axis)
```
- observed : 관측된 빈도 리스트(배열)

- expected : 기대 빈도 리스트(배열)

  - 주어지지 않으면 모든 카테고리의 관측 빈도가 균일하고 관측 민도의 평균으로 주어진다고 가정
 
- ddof : 자유도 조정, 기본값 0

- axis : 축, 기본값 0

<br>

#### ✏️ 문제
> 어떤 도시에서 300명을 대상으로 아이스크림 맛 선호도를 조사했다.<br>
> 이 도시에서 조사된 맛 선호도는 바닐라:150명, 초코:120명, 딸기:30명이었다.<br>
> 전국적인 아이스크림 맛 선호도 조사 결과를 통해 알려진 비율은 각 50%, 35%, 15% 이다. (유의수준 0.05) <br>
> 이 도시의 아이스크림 맛 선호도는 전국적인 맛 선호도와 차이가 있는가?

- 귀무가설(H₀) : 이 도시의 아이스크림 맛 선호도는 전국적인 선호도와 동일하다

- 대립가설(H₁) : 이 도시의 아이스크림 맛 선호도는 전국적인 선호도와 다르다

<br>

> 코드
```python
  from scipy import stats
  
  observed = [150, 120, 30]
  expected = [0.5*300, 0.35*300, 0.15*300]
  print(stats.chisquare(observed, expected))
```
- 카이제곱 검정 수행시 올바른 결과를 얻기 위해서는 관측된 빈도와 기대 빈도 사용

  - 한쪽이 빈도로 주어지고 다른 한쪽이 비율로 주어진다면?
 
    - 검정 수행 전 두 데이터를 동일한 형식(빈도)로 통일
   
- 적합도 검정은 chisquare() 함수 사용해 검정 통계량과 p-value 구함

> 결과
```python
  Power_divergenceResult(statistic=7.142857142857142, pvalue=0.028115659748972056)
```
- 검정 통계량 : 7.14

- 0.028(p-value) < 0.05(유의수준) : 귀무가설 기각, 대립가설 채택

  - 이 도시의 아이스크림 맛 선호도는 전국적인 맛 선호도와 다르다

<br>

#### 💡 기대값을 빈도가 아닌 비율로 입력해도 괜찮을까?
- 기대값은 비율이 아니라 빈도로 입력해야 함

- scipy.stats.chisquare(f_obs, f_exp) 함수의 매개변수 f_obs와 f_exp는 동일한 단위를 가져야 함

  - f_obs : 관측된 빈도수 (예: 카테고리별 샘플 수)
  
  - f_exp : 기대되는 빈도수, f_obs와 동일한 총합을 가져야 함

  - 비율([0.5, 0.35, 0.15])일 때와 빈도([0.5*300, 0.35*300, 0.15*300])일 때 다른 결과가 나옴

    - 비율(확률 분포) 입력시, f_obs와 f_exp의 스케일이 달라져 카이제곱 통계량을 계산할 수 없어 오류 발생

<br>

---

<Br>

SECTION02 독립성 검정
---



<br>

---

<br>

SECTION03 동질성 검정
---




<br>






